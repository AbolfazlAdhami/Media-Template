let newsList = [];
let startPage = 1;
let endPage = 0;
let currentPage = 1;
const pagination = document.querySelector("#pagination");
const newsBody = document.querySelector(".news-body");
const getLables = () => {
  async function lableName() {
    let data;
    data = await fetch("./js/jsonData/lable.json");
    data = await data.json();

    const { lables } = data;

    lableShow(lables);
  }
  lableName();
};
getLables();

const lableShow = (labels) => {
  const lableDiv = document.querySelector("#lable .labes-group");
  labels.forEach((element) => {
    lableDiv.innerHTML += `<button class="btn btn-outline-secondary p-2 text-center  swiper-slide fs-3 fw-bold">${element}</button>`;
  });
  const fristChild = document.querySelector(".labes-group .btn");
  fristChild.classList.replace("btn-outline-secondary", "btn-outline-primary");
};

const lableSwiper = new Swiper("#lable", {
  navigation: {
    nextEl: "#next",
    prevEl: "#back",
  },

  slidesPerView: 10,
  spaceBetween: 5,
  breakpoints: {
    // when window width is >= 320px
    320: {
      slidesPerView: 3,
      spaceBetween: 20,
    },
    // when window width is >= 480px
    640: {
      slidesPerView: 5,
      spaceBetween: 25,
    },
    // when window width is >= 1024px
    1024: {
      slidesPerView: 8,
      spaceBetween: 30,
    },
  },
});

const getNews = () => {
  async function fetchNews() {
    let data;
    data = await fetch("./js/jsonData/news.json");
    data = await data.json();
    const { news } = data;

    newsPage(news);
    newsList = [...news];
    endPage = newsList.length / 5;

    newsPage();
  }
  fetchNews();
};
getNews();

const newsPage = () => {
  const newsShown = newsList.slice(currentPage, 6);
  newsBody.innerHTML = null;
  newsShown.forEach((item) => {
    newsBody.innerHTML += `
    <div
    class="news-box p-5 d-flex flex-column flex-sm-row position-relative justify-content-evenly align-items-start align-items-md-center gap-4">
    <div class="time-released fs-5 fw-bolder position-absolute">
      ${item.date}
    </div>
    <a href="#moreinfo" class="more fw-bolder position-absolute d-block d-sm-none">
      <i class="bi bi-three-dots-vertical text-secondary"></i>
    </a>
    <div class="icons-box position-absolute d-flex flex-row-reverse gap-4">
      <span>
        ${item.like}
        <svg width="18" height="18" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M19.176 7.60759C18.7847 7.12811 18.2807 6.7531 17.709 6.51611C17.1373 6.27913 16.5158 6.18756 15.9 6.24959H12.747V3.76259C12.7475 3.14526 12.5954 2.53738 12.3042 1.99305C12.013 1.44871 11.5918 0.984797 11.078 0.642589C10.7827 0.445981 10.4466 0.319202 10.095 0.271867C9.74345 0.224532 9.38572 0.257886 9.04897 0.369397C8.71222 0.480909 8.40529 0.667649 8.15146 0.915453C7.89763 1.16326 7.70357 1.46561 7.584 1.79959L5.456 8.24959H2.5C1.90351 8.25038 1.33167 8.48769 0.909886 8.90948C0.488101 9.33126 0.250794 9.9031 0.25 10.4996V17.4996C0.250794 18.0961 0.488101 18.6679 0.909886 19.0897C1.33167 19.5115 1.90351 19.7488 2.5 19.7496H13.9C16.4 19.7496 17.008 18.5366 17.458 17.1856L19.458 11.1856C19.7001 10.61 19.8009 9.98482 19.7518 9.36232C19.7027 8.73982 19.5053 8.13813 19.176 7.60759ZM1.75 17.4996V10.4996C1.75026 10.3008 1.82937 10.1101 1.96996 9.96955C2.11056 9.82896 2.30117 9.74985 2.5 9.74959H4.5V18.2496H2.5C2.30117 18.2493 2.11056 18.1702 1.96996 18.0296C1.82937 17.889 1.75026 17.6984 1.75 17.4996ZM18.037 10.7106L16.037 16.7106C15.682 17.7776 15.459 18.2496 13.903 18.2496H6V9.74959C6.15759 9.74933 6.3111 9.69944 6.43873 9.60699C6.56636 9.51455 6.66162 9.38424 6.711 9.23459L9 2.29359C9.04454 2.17574 9.1151 2.06947 9.20644 1.9827C9.29777 1.89593 9.40751 1.83089 9.52748 1.79244C9.64745 1.75399 9.77455 1.74311 9.8993 1.76063C10.0241 1.77814 10.1433 1.82359 10.248 1.89359C10.5561 2.09901 10.8086 2.37741 10.9831 2.70402C11.1575 3.03063 11.2485 3.3953 11.248 3.76559V6.99959C11.248 7.1985 11.327 7.38927 11.4677 7.52992C11.6083 7.67057 11.7991 7.74959 11.998 7.74959H15.9C16.2758 7.71095 16.6555 7.7569 17.0113 7.88408C17.3671 8.01126 17.6898 8.21645 17.956 8.48459C18.1389 8.82471 18.2413 9.20225 18.2553 9.58817C18.2694 9.97409 18.1947 10.3581 18.037 10.7106Z"
            fill="#0F1010" />
        </svg>
      </span>
      <span>
      ${item.disLike}
        <svg width="18" height="18" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M19.176 12.3924C18.7847 12.8719 18.2807 13.2469 17.709 13.4839C17.1373 13.7209 16.5158 13.8124 15.9 13.7504H12.747V16.2374C12.7475 16.8547 12.5954 17.4626 12.3042 18.007C12.013 18.5513 11.5918 19.0152 11.078 19.3574C10.7827 19.554 10.4466 19.6808 10.095 19.7281C9.74345 19.7755 9.38572 19.7421 9.04897 19.6306C8.71222 19.5191 8.40529 19.3324 8.15146 19.0845C7.89763 18.8367 7.70357 18.5344 7.584 18.2004L5.456 11.7504H2.5C1.90351 11.7496 1.33167 11.5123 0.909886 11.0905C0.488101 10.6687 0.250794 10.0969 0.25 9.50041V2.50041C0.250794 1.90392 0.488101 1.33208 0.909886 0.910299C1.33167 0.488514 1.90351 0.251205 2.5 0.250412H13.9C16.4 0.250412 17.008 1.46341 17.458 2.81441L19.458 8.81441C19.7001 9.38999 19.8009 10.0152 19.7518 10.6377C19.7027 11.2602 19.5053 11.8619 19.176 12.3924ZM1.75 2.50041V9.50041C1.75026 9.69924 1.82937 9.88985 1.96996 10.0304C2.11056 10.171 2.30117 10.2501 2.5 10.2504H4.5V1.75041H2.5C2.30117 1.75068 2.11056 1.82978 1.96996 1.97038C1.82937 2.11097 1.75026 2.30158 1.75 2.50041ZM18.037 9.28941L16.037 3.28941C15.682 2.22241 15.459 1.75041 13.903 1.75041H6V10.2504C6.15759 10.2507 6.3111 10.3006 6.43873 10.393C6.56636 10.4855 6.66162 10.6158 6.711 10.7654L9 17.7064C9.04454 17.8243 9.1151 17.9305 9.20644 18.0173C9.29777 18.1041 9.40751 18.1691 9.52748 18.2076C9.64745 18.246 9.77455 18.2569 9.8993 18.2394C10.0241 18.2219 10.1433 18.1764 10.248 18.1064C10.5561 17.901 10.8086 17.6226 10.9831 17.296C11.1575 16.9694 11.2485 16.6047 11.248 16.2344V13.0004C11.248 12.8015 11.327 12.6107 11.4677 12.4701C11.6083 12.3294 11.7991 12.2504 11.998 12.2504H15.9C16.2758 12.2891 16.6555 12.2431 17.0113 12.1159C17.3671 11.9887 17.6898 11.7836 17.956 11.5154C18.1389 11.1753 18.2413 10.7977 18.2553 10.4118C18.2694 10.0259 18.1947 9.64192 18.037 9.28941Z"
            fill="#0F1010" />
        </svg>
      </span>
      <span>
        <svg width="18" height="18" viewBox="0 0 18 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M9 18.25H4C2.423 18.25 1.75 17.577 1.75 16V4.00004C1.75 2.42304 2.423 1.75004 4 1.75004H9.25V4.00004C9.19127 4.5067 9.24787 5.02008 9.41557 5.50177C9.58326 5.98347 9.8577 6.42101 10.2184 6.78168C10.579 7.14234 11.0166 7.41678 11.4983 7.58447C11.98 7.75216 12.4933 7.80876 13 7.75004H15.25V10C15.25 10.1989 15.329 10.3897 15.4697 10.5304C15.6103 10.671 15.8011 10.75 16 10.75C16.1989 10.75 16.3897 10.671 16.5303 10.5304C16.671 10.3897 16.75 10.1989 16.75 10V7.00004C16.7501 6.90155 16.7307 6.80403 16.6929 6.71307C16.6552 6.62211 16.5998 6.53952 16.53 6.47004L10.53 0.470036C10.4605 0.400239 10.3779 0.34487 10.287 0.307113C10.196 0.269357 10.0985 0.249959 10 0.250036H4C3.49334 0.191312 2.97996 0.247913 2.49826 0.415604C2.01656 0.583296 1.57902 0.857736 1.21836 1.2184C0.857698 1.57906 0.583257 2.0166 0.415566 2.4983C0.247875 2.98 0.191274 3.49338 0.249998 4.00004V16C0.191274 16.5067 0.247875 17.0201 0.415566 17.5018C0.583257 17.9835 0.857698 18.421 1.21836 18.7817C1.57902 19.1423 2.01656 19.4168 2.49826 19.5845C2.97996 19.7522 3.49334 19.8088 4 19.75H9C9.19891 19.75 9.38968 19.671 9.53033 19.5304C9.67098 19.3897 9.75 19.1989 9.75 19C9.75 18.8011 9.67098 18.6104 9.53033 18.4697C9.38968 18.3291 9.19891 18.25 9 18.25ZM10.75 4.00004V2.81104L14.189 6.25004H13C11.423 6.25004 10.75 5.57704 10.75 4.00004ZM12 9.25004C12.1989 9.25004 12.3897 9.32905 12.5303 9.46971C12.671 9.61036 12.75 9.80112 12.75 10C12.75 10.1989 12.671 10.3897 12.5303 10.5304C12.3897 10.671 12.1989 10.75 12 10.75H5C4.80109 10.75 4.61032 10.671 4.46967 10.5304C4.32902 10.3897 4.25 10.1989 4.25 10C4.25 9.80112 4.32902 9.61036 4.46967 9.46971C4.61032 9.32905 4.80109 9.25004 5 9.25004H12ZM9.75 14C9.75 14.1989 9.67098 14.3897 9.53033 14.5304C9.38968 14.671 9.19891 14.75 9 14.75H5C4.80109 14.75 4.61032 14.671 4.46967 14.5304C4.32902 14.3897 4.25 14.1989 4.25 14C4.25 13.8011 4.32902 13.6104 4.46967 13.4697C4.61032 13.3291 4.80109 13.25 5 13.25H9C9.19891 13.25 9.38968 13.3291 9.53033 13.4697C9.67098 13.6104 9.75 13.8011 9.75 14Z"
            fill="#0F1010" />
          <path
            d="M14.4176 11.9022C13.7089 11.9022 13.0161 12.1124 12.4268 12.5061C11.8375 12.8999 11.3783 13.4595 11.107 14.1143C10.8358 14.769 10.7649 15.4895 10.9031 16.1846C11.0414 16.8797 11.3827 17.5182 11.8838 18.0194C12.3849 18.5205 13.0234 18.8618 13.7185 19C14.4136 19.1383 15.1341 19.0673 15.7889 18.7961C16.4437 18.5249 17.0033 18.0656 17.397 17.4763C17.7908 16.8871 18.0009 16.1943 18.0009 15.4856C17.9999 14.5355 17.622 13.6247 16.9502 12.9529C16.2785 12.2812 15.3676 11.9033 14.4176 11.9022ZM14.4176 18.5689C13.8078 18.5689 13.2116 18.3881 12.7046 18.0493C12.1975 17.7105 11.8023 17.2289 11.569 16.6655C11.3356 16.1021 11.2745 15.4821 11.3935 14.884C11.5125 14.2859 11.8061 13.7365 12.2374 13.3053C12.6686 12.8741 13.218 12.5804 13.8161 12.4615C14.4142 12.3425 15.0341 12.4036 15.5975 12.6369C16.161 12.8703 16.6425 13.2655 16.9813 13.7725C17.3201 14.2796 17.5009 14.8757 17.5009 15.4856C17.5001 16.303 17.1749 17.0868 16.5969 17.6648C16.0188 18.2429 15.2351 18.568 14.4176 18.5689ZM15.5943 16.3089C15.6188 16.3318 15.6385 16.3594 15.6522 16.39C15.6659 16.4207 15.6732 16.4538 15.6738 16.4874C15.6744 16.521 15.6682 16.5543 15.6556 16.5854C15.6431 16.6166 15.6244 16.6448 15.6006 16.6686C15.5769 16.6923 15.5486 16.711 15.5175 16.7236C15.4863 16.7362 15.453 16.7423 15.4194 16.7418C15.3859 16.7412 15.3528 16.7338 15.3221 16.7201C15.2914 16.7065 15.2638 16.6868 15.2409 16.6622L14.2409 15.6622C14.2177 15.6391 14.1992 15.6115 14.1866 15.5812C14.174 15.5509 14.1676 15.5184 14.1676 15.4856V13.8189C14.1676 13.7526 14.1939 13.689 14.2408 13.6421C14.2877 13.5952 14.3513 13.5689 14.4176 13.5689C14.4839 13.5689 14.5475 13.5952 14.5944 13.6421C14.6413 13.689 14.6676 13.7526 14.6676 13.8189V15.3819L15.5943 16.3089Z"
            fill="#0F1010" />
        </svg>
        5دقیقه
      </span>
    </div>

    <div class="news--image-box d-flex gap-2 align-items-center">
      <img src=${item.image} alt="" />
      <h3 class="fw-bold fs-2 d-block d-sm-none">
${item.title}
      </h3>
    </div>
    <div class="news-text-box w-75">
      <h3 class="fw-bold fs-2 d-none d-sm-block">
${item.title}
      </h3>
      <p class="fs-4 p-0 text-start text-md-start fw-semibold">
 ${item.body}
      </p>
    </div>
  </div>
    `;
  });
};
pagination.innerHTML += `<ul class="pagination pagination-lg justify-content-center gap-2  ">
<li class="page-item   mx-5">
  <a class="page-link">
    <svg width="10" height="10" viewBox="0 0 15 22" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M3.33402 0L0.749023 2.585L9.14569 11L0.749023 19.415L3.33402 22L14.334 11L3.33402 0Z"
        fill="#0F1010" />
    </svg>

  </a>
</li>
<li class="page-item"><a class="page-link rounded-2 active" href="#">1</a></li>

<li class="page-item mx-5">
  <a class="page-link" href="#">
    <svg width="10" height="10" style="transform: rotate(180deg);" viewBox="0 0 15 22" fill="none"
      xmlns="http://www.w3.org/2000/svg">
      <path d="M3.33402 0L0.749023 2.585L9.14569 11L0.749023 19.415L3.33402 22L14.334 11L3.33402 0Z"
        fill="#0F1010" />
    </svg>
  </a>
</li>
</ul>`;
